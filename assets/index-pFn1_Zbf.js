var Ve=Object.defineProperty;var He=(e,t,n)=>t in e?Ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ve=(e,t,n)=>(He(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function A(){}function ze(e){return e()}function Pe(){return Object.create(null)}function G(e){e.forEach(ze)}function Ie(e){return typeof e=="function"}function je(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Je(e){return Object.keys(e).length===0}function Oe(e,...t){if(e==null){for(const l of t)l(void 0);return A}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function j(e){let t;return Oe(e,n=>t=n)(),t}function V(e,t,n){e.$$.on_destroy.push(Oe(t,n))}function r(e,t){e.appendChild(t)}function T(e,t,n){e.insertBefore(t,n||null)}function z(e){e.parentNode&&e.parentNode.removeChild(e)}function g(e){return document.createElement(e)}function k(e){return document.createTextNode(e)}function S(){return k(" ")}function W(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function c(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Qe(e){return Array.from(e.childNodes)}function xe(e,t){t=""+t,e.data!==t&&(e.data=t)}let ae;function ue(e){ae=e}function We(){if(!ae)throw new Error("Function called outside component initialization");return ae}function Xe(e){We().$$.on_mount.push(e)}const Q=[],Be=[];let Y=[];const Ce=[],Ye=Promise.resolve();let ke=!1;function Ze(){ke||(ke=!0,Ye.then(Re))}function Se(e){Y.push(e)}const $e=new Set;let H=0;function Re(){if(H!==0)return;const e=ae;do{try{for(;H<Q.length;){const t=Q[H];H++,ue(t),et(t.$$)}}catch(t){throw Q.length=0,H=0,t}for(ue(null),Q.length=0,H=0;Be.length;)Be.pop()();for(let t=0;t<Y.length;t+=1){const n=Y[t];$e.has(n)||($e.add(n),n())}Y.length=0}while(Q.length);for(;Ce.length;)Ce.pop()();ke=!1,$e.clear(),ue(e)}function et(e){if(e.fragment!==null){e.update(),G(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Se)}}function tt(e){const t=[],n=[];Y.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),Y=t}const ge=new Set;let nt;function oe(e,t){e&&e.i&&(ge.delete(e),e.i(t))}function _e(e,t,n,l){if(e&&e.o){if(ge.has(e))return;ge.add(e),nt.c.push(()=>{ge.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function pe(e){e&&e.c()}function ie(e,t,n){const{fragment:l,after_update:s}=e.$$;l&&l.m(t,n),Se(()=>{const i=e.$$.on_mount.map(ze).filter(Ie);e.$$.on_destroy?e.$$.on_destroy.push(...i):G(i),e.$$.on_mount=[]}),s.forEach(Se)}function ce(e,t){const n=e.$$;n.fragment!==null&&(tt(n.after_update),G(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function lt(e,t){e.$$.dirty[0]===-1&&(Q.push(e),Ze(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Fe(e,t,n,l,s,i,m=null,a=[-1]){const b=ae;ue(e);const o=e.$$={fragment:null,ctx:[],props:i,update:A,not_equal:s,bound:Pe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(b?b.$$.context:[])),callbacks:Pe(),dirty:a,skip_bound:!1,root:t.target||b.$$.root};m&&m(o.root);let v=!1;if(o.ctx=n?n(e,t.props||{},(u,f,...h)=>{const x=h.length?h[0]:f;return o.ctx&&s(o.ctx[u],o.ctx[u]=x)&&(!o.skip_bound&&o.bound[u]&&o.bound[u](x),v&&lt(e,u)),f}):[],o.update(),v=!0,G(o.before_update),o.fragment=l?l(o.ctx):!1,t.target){if(t.hydrate){const u=Qe(t.target);o.fragment&&o.fragment.l(u),u.forEach(z)}else o.fragment&&o.fragment.c();t.intro&&oe(e.$$.fragment),ie(e,t.target,t.anchor),Re()}ue(b)}class Te{constructor(){ve(this,"$$");ve(this,"$$set")}$destroy(){ce(this,1),this.$destroy=A}$on(t,n){if(!Ie(n))return A;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(t){this.$$set&&!Je(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const st="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(st);const J=[];function rt(e,t){return{subscribe:Z(e,t).subscribe}}function Z(e,t=A){let n;const l=new Set;function s(a){if(je(e,a)&&(e=a,n)){const b=!J.length;for(const o of l)o[1](),J.push(o,e);if(b){for(let o=0;o<J.length;o+=2)J[o][0](J[o+1]);J.length=0}}}function i(a){s(a(e))}function m(a,b=A){const o=[a,b];return l.add(o),l.size===1&&(n=t(s,i)||A),a(e),()=>{l.delete(o),l.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:m}}function F(e,t,n){const l=!Array.isArray(e),s=l?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return rt(n,(m,a)=>{let b=!1;const o=[];let v=0,u=A;const f=()=>{if(v)return;u();const x=t(l?o[0]:o,m,a);i?m(x):u=Ie(x)?x:A},h=s.map((x,y)=>Oe(x,B=>{o[y]=B,v&=~(1<<y),b&&f()},()=>{v|=1<<y}));return b=!0,f(),function(){G(h),u(),b=!1}})}const Ee=60*20,ye=300,R=Z(localStorage.getItem("running")==="true");R.subscribe(e=>{localStorage.setItem("running",e)});const q=Z(localStorage.getItem("paused")==="true");q.subscribe(e=>{localStorage.setItem("paused",e)});const ot=F(R,e=>e),it=()=>{const{subscribe:e,set:t,update:n}=Z(new Date);return{subscribe:e,tick:()=>t(new Date)}},he=it(),X=Z(new Date(localStorage.getItem("paused_at")));X.subscribe(e=>{localStorage.setItem("paused_at",e)});const ct=()=>{const{subscribe:e,set:t,update:n}=Z(new Date(localStorage.getItem("poker_clock")));return{subscribe:e,start:()=>{t(new Date),R.set(!0),q.set(!1)},stop:()=>{R.set(!1),q.set(!1)},pause:()=>{console.log("pausing!"),q.set(!0),X.set(new Date)},resume:()=>{console.log(j(X)),console.log(j($)),console.log(j(X)-j($)),t(new Date(new Date-(j(X)-j($)))),he.tick(),q.set(!1)},back5:()=>{console.log(j($)),+j($)+ye*1e3<+j(he)&&t(new Date(+j($)+ye*1e3)),console.log(j($))},forward5:()=>{t(new Date(j($)-ye*1e3))},tick:()=>{j(R)&&!j(q)&&he.tick()}}},$=ct();$.subscribe(e=>{localStorage.setItem("poker_clock",e)});const Ge=F([$,he,q,X],([e,t,n,l])=>Math.trunc(n?(l-e)/1e3:(t-e)/1e3)),Ke=F(Ge,e=>Ee-e%Ee-1),ut=F([Ke,R],([e,t])=>{if(!t)return"--:--";let n=e;return Math.trunc(n/60).toString().padStart(2,"0")+":"+(n%60).toString().padStart(2,"0")}),at=F([Ke,R,q],([e,t,n])=>t&&(n||e<30&&e%2==1)),ft=F(Ge,e=>Math.trunc(e/Ee)),Ue=F([ft,R],([e,t])=>t?25*Math.pow(2,e):25),dt=F(Ue,e=>2*e);function bt(e){let t,n;return{c(){t=g("span"),c(t,"class",n="h-12 w-12 md:h-24 md:w-24 rounded-full "+e[1][e[0]])},m(l,s){T(l,t,s)},p(l,[s]){s&1&&n!==(n="h-12 w-12 md:h-24 md:w-24 rounded-full "+l[1][l[0]])&&c(t,"class",n)},i:A,o:A,d(l){l&&z(t)}}}function _t(e,t,n){let{colour:l}=t;const s={white:"bg-white",blue:"bg-blue-700",green:"bg-green-600",red:"bg-red-600"};return e.$$set=i=>{"colour"in i&&n(0,l=i.colour)},[l,s]}class me extends Te{constructor(t){super(),Fe(this,t,_t,bt,je,{colour:0})}}function qe(e){let t,n,l,s,i,m,a,b,o,v,u,f,h,x,y,B,d,ee,C,E,te,L,ne,O,le,D,M,se;return{c(){t=g("div"),n=k("Blinds: "),l=k(e[3]),s=k(" / "),i=k(e[4]),a=S(),b=g("div"),o=k(e[5]),u=S(),f=g("div"),h=g("button"),x=k("-5 min"),B=S(),d=g("button"),ee=k("Pause"),C=S(),E=g("button"),te=k("Resume"),ne=S(),O=g("button"),le=k("+5 min"),c(t,"class",m="flex flex-row text-3xl md:text-5xl basis-1/5 font-bold justify-center "+e[0]),c(b,"class",v="flex flex-row text-6xl basis-1/5 font-bold justify-center "+e[0]),h.disabled=y=!e[2],c(h,"class","btn text-2xl"),d.disabled=e[6],c(d,"class","btn text-2xl"),E.disabled=L=!e[6],c(E,"class","btn text-2xl"),O.disabled=D=!e[2],c(O,"class","btn text-2xl"),c(f,"class","flex flex-row space-x-8 justify-center m-8")},m(p,w){T(p,t,w),r(t,n),r(t,l),r(t,s),r(t,i),T(p,a,w),T(p,b,w),r(b,o),T(p,u,w),T(p,f,w),r(f,h),r(h,x),r(f,B),r(f,d),r(d,ee),r(f,C),r(f,E),r(E,te),r(f,ne),r(f,O),r(O,le),M||(se=[W(h,"click",e[10]),W(d,"click",e[11]),W(E,"click",e[12]),W(O,"click",e[13])],M=!0)},p(p,w){w&8&&xe(l,p[3]),w&16&&xe(i,p[4]),w&1&&m!==(m="flex flex-row text-3xl md:text-5xl basis-1/5 font-bold justify-center "+p[0])&&c(t,"class",m),w&32&&xe(o,p[5]),w&1&&v!==(v="flex flex-row text-6xl basis-1/5 font-bold justify-center "+p[0])&&c(b,"class",v),w&4&&y!==(y=!p[2])&&(h.disabled=y),w&64&&(d.disabled=p[6]),w&64&&L!==(L=!p[6])&&(E.disabled=L),w&4&&D!==(D=!p[2])&&(O.disabled=D)},d(p){p&&(z(t),z(a),z(b),z(u),z(f)),M=!1,G(se)}}}function pt(e){let t,n,l,s,i,m,a,b,o,v,u,f,h,x,y,B,d,ee,C,E,te,L,ne,O,le,D,M,se,p,w,fe,De,K,U,Ne,re,Ae,de,Le,be,N,we,Me;h=new me({props:{colour:"white"}}),E=new me({props:{colour:"blue"}}),M=new me({props:{colour:"green"}}),U=new me({props:{colour:"red"}});let I=e[2]&&qe(e);return{c(){t=g("main"),n=g("div"),l=g("div"),s=g("button"),i=k("Start Timer"),m=S(),a=g("button"),b=k("New Game"),v=S(),u=g("div"),f=g("div"),pe(h.$$.fragment),x=S(),y=g("div"),B=k("200"),ee=S(),C=g("div"),pe(E.$$.fragment),te=S(),L=g("div"),ne=k("100"),le=S(),D=g("div"),pe(M.$$.fragment),se=S(),p=g("div"),w=k("50"),De=S(),K=g("div"),pe(U.$$.fragment),Ne=S(),re=g("div"),Ae=k("25"),Le=S(),I&&I.c(),s.disabled=e[2],c(s,"class","btn text-2xl"),a.disabled=o=!e[2],c(a,"class","btn text-2xl"),c(l,"class","flex flex-row space-x-8 justify-center m-8"),c(y,"class",d="text-center font-bold text-4xl "+e[0]),c(f,"class","flex flex-col"),c(L,"class",O="text-center font-bold text-4xl "+e[0]),c(C,"class","flex flex-col"),c(p,"class",fe="text-center font-bold text-4xl "+e[0]),c(D,"class","flex flex-col"),c(re,"class",de="text-center font-bold text-4xl "+e[0]),c(K,"class","flex flex-col"),c(u,"class","flex flex-row text-yellow-200 space-x-8 md:space-x-16 justify-center"),c(n,"class","flex flex-col space-y-8"),c(t,"class",be="h-full m-0 "+e[1])},m(_,P){T(_,t,P),r(t,n),r(n,l),r(l,s),r(s,i),r(l,m),r(l,a),r(a,b),r(n,v),r(n,u),r(u,f),ie(h,f,null),r(f,x),r(f,y),r(y,B),r(u,ee),r(u,C),ie(E,C,null),r(C,te),r(C,L),r(L,ne),r(u,le),r(u,D),ie(M,D,null),r(D,se),r(D,p),r(p,w),r(u,De),r(u,K),ie(U,K,null),r(K,Ne),r(K,re),r(re,Ae),r(n,Le),I&&I.m(n,null),N=!0,we||(Me=[W(s,"click",e[8]),W(a,"click",e[7])],we=!0)},p(_,[P]){(!N||P&4)&&(s.disabled=_[2]),(!N||P&4&&o!==(o=!_[2]))&&(a.disabled=o),(!N||P&1&&d!==(d="text-center font-bold text-4xl "+_[0]))&&c(y,"class",d),(!N||P&1&&O!==(O="text-center font-bold text-4xl "+_[0]))&&c(L,"class",O),(!N||P&1&&fe!==(fe="text-center font-bold text-4xl "+_[0]))&&c(p,"class",fe),(!N||P&1&&de!==(de="text-center font-bold text-4xl "+_[0]))&&c(re,"class",de),_[2]?I?I.p(_,P):(I=qe(_),I.c(),I.m(n,null)):I&&(I.d(1),I=null),(!N||P&2&&be!==(be="h-full m-0 "+_[1]))&&c(t,"class",be)},i(_){N||(oe(h.$$.fragment,_),oe(E.$$.fragment,_),oe(M.$$.fragment,_),oe(U.$$.fragment,_),N=!0)},o(_){_e(h.$$.fragment,_),_e(E.$$.fragment,_),_e(M.$$.fragment,_),_e(U.$$.fragment,_),N=!1},d(_){_&&z(t),ce(h),ce(E),ce(M),ce(U),I&&I.d(),we=!1,G(Me)}}}function mt(e,t,n){let l,s,i,m,a,b,o,v;V(e,at,d=>n(9,i=d)),V(e,ot,d=>n(2,m=d)),V(e,Ue,d=>n(3,a=d)),V(e,dt,d=>n(4,b=d)),V(e,ut,d=>n(5,o=d)),V(e,q,d=>n(6,v=d));const u=()=>{confirm("Really start a new game?")&&$.stop()},f=()=>{$.start()};Xe(()=>{const d=setInterval(()=>{$.tick()},1e3);return()=>{clearInterval(d)}});const h=()=>{$.back5()},x=()=>{$.pause()},y=()=>{$.resume()},B=()=>{$.forward5()};return e.$$.update=()=>{e.$$.dirty&512&&n(1,l=i?"bg-yellow-200":"bg-green-950"),e.$$.dirty&512&&n(0,s=i?"text-green-950":"text-yellow-200")},[s,l,m,a,b,o,v,u,f,i,h,x,y,B]}class gt extends Te{constructor(t){super(),Fe(this,t,mt,pt,je,{})}}new gt({target:document.getElementById("app")});
