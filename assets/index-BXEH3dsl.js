var Ue=Object.defineProperty;var Ve=(e,t,n)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var be=(e,t,n)=>(Ve(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const _ of i.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&s(_)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function I(){}function qe(e){return e()}function Me(){return Object.create(null)}function R(e){e.forEach(qe)}function $e(e){return typeof e=="function"}function ye(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function He(e){return Object.keys(e).length===0}function ke(e,...t){if(e==null){for(const s of t)s(void 0);return I}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function L(e){let t;return ke(e,n=>t=n)(),t}function U(e,t,n){e.$$.on_destroy.push(ke(t,n))}function o(e,t){e.appendChild(t)}function z(e,t,n){e.insertBefore(t,n||null)}function M(e){e.parentNode&&e.parentNode.removeChild(e)}function g(e){return document.createElement(e)}function y(e){return document.createTextNode(e)}function k(){return y(" ")}function pe(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function c(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Je(e){return Array.from(e.childNodes)}function me(e,t){t=""+t,e.data!==t&&(e.data=t)}let le;function se(e){le=e}function Qe(){if(!le)throw new Error("Function called outside component initialization");return le}function We(e){Qe().$$.on_mount.push(e)}const J=[],Pe=[];let W=[];const Be=[],Xe=Promise.resolve();let he=!1;function Ye(){he||(he=!0,Xe.then(ze))}function xe(e){W.push(e)}const ge=new Set;let V=0;function ze(){if(V!==0)return;const e=le;do{try{for(;V<J.length;){const t=J[V];V++,se(t),Ze(t.$$)}}catch(t){throw J.length=0,V=0,t}for(se(null),J.length=0,V=0;Pe.length;)Pe.pop()();for(let t=0;t<W.length;t+=1){const n=W[t];ge.has(n)||(ge.add(n),n())}W.length=0}while(J.length);for(;Be.length;)Be.pop()();he=!1,ge.clear(),se(e)}function Ze(e){if(e.fragment!==null){e.update(),R(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(xe)}}function et(e){const t=[],n=[];W.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),W=t}const de=new Set;let tt;function ee(e,t){e&&e.i&&(de.delete(e),e.i(t))}function ce(e,t,n,s){if(e&&e.o){if(de.has(e))return;de.add(e),tt.c.push(()=>{de.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}function fe(e){e&&e.c()}function te(e,t,n){const{fragment:s,after_update:l}=e.$$;s&&s.m(t,n),xe(()=>{const i=e.$$.on_mount.map(qe).filter($e);e.$$.on_destroy?e.$$.on_destroy.push(...i):R(i),e.$$.on_mount=[]}),l.forEach(xe)}function ne(e,t){const n=e.$$;n.fragment!==null&&(et(n.after_update),R(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(e,t){e.$$.dirty[0]===-1&&(J.push(e),Ye(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Re(e,t,n,s,l,i,_=null,f=[-1]){const d=le;se(e);const r=e.$$={fragment:null,ctx:[],props:i,update:I,not_equal:l,bound:Me(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:Me(),dirty:f,skip_bound:!1,root:t.target||d.$$.root};_&&_(r.root);let w=!1;if(r.ctx=n?n(e,t.props||{},(u,b,...m)=>{const v=m.length?m[0]:b;return r.ctx&&l(r.ctx[u],r.ctx[u]=v)&&(!r.skip_bound&&r.bound[u]&&r.bound[u](v),w&&nt(e,u)),b}):[],r.update(),w=!0,R(r.before_update),r.fragment=s?s(r.ctx):!1,t.target){if(t.hydrate){const u=Je(t.target);r.fragment&&r.fragment.l(u),u.forEach(M)}else r.fragment&&r.fragment.c();t.intro&&ee(e.$$.fragment),te(e,t.target,t.anchor),ze()}se(d)}class Fe{constructor(){be(this,"$$");be(this,"$$set")}$destroy(){ne(this,1),this.$destroy=I}$on(t,n){if(!$e(n))return I;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const l=s.indexOf(n);l!==-1&&s.splice(l,1)}}$set(t){this.$$set&&!He(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const st="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(st);const H=[];function lt(e,t){return{subscribe:X(e,t).subscribe}}function X(e,t=I){let n;const s=new Set;function l(f){if(ye(e,f)&&(e=f,n)){const d=!H.length;for(const r of s)r[1](),H.push(r,e);if(d){for(let r=0;r<H.length;r+=2)H[r][0](H[r+1]);H.length=0}}}function i(f){l(f(e))}function _(f,d=I){const r=[f,d];return s.add(r),s.size===1&&(n=t(l,i)||I),f(e),()=>{s.delete(r),s.size===0&&n&&(n(),n=null)}}return{set:l,update:i,subscribe:_}}function B(e,t,n){const s=!Array.isArray(e),l=s?[e]:e;if(!l.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return lt(n,(_,f)=>{let d=!1;const r=[];let w=0,u=I;const b=()=>{if(w)return;u();const v=t(s?r[0]:r,_,f);i?_(v):u=$e(v)?v:I},m=l.map((v,a)=>ke(v,S=>{r[a]=S,w&=~(1<<a),d&&b()},()=>{w|=1<<a}));return d=!0,b(),function(){R(m),u(),d=!1}})}const we=40,P=X(localStorage.getItem("running")==="true");P.subscribe(e=>{localStorage.setItem("running",e)});const D=X(localStorage.getItem("paused")==="true");D.subscribe(e=>{localStorage.setItem("paused",e)});const rt=B(P,e=>e),ot=()=>{const{subscribe:e,set:t,update:n}=X(new Date);return{subscribe:e,tick:()=>t(new Date)}},ve=ot(),Q=X(new Date(localStorage.getItem("paused_at")));Q.subscribe(e=>{localStorage.setItem("paused_at",e)});const it=()=>{const{subscribe:e,set:t,update:n}=X(new Date(localStorage.getItem("poker_clock")));return{subscribe:e,start:()=>{t(new Date),P.set(!0),D.set(!1)},stop:()=>{P.set(!1),D.set(!1)},pause:()=>{console.log("pausing!"),D.set(!0),Q.set(new Date)},resume:()=>{console.log(L(Q)),console.log(L(N)),console.log(L(Q)-L(N)),t(new Date(new Date-(L(Q)-L(N)))),ve.tick(),D.set(!1)},tick:()=>{L(P)&&!L(D)&&ve.tick()}}},N=it();N.subscribe(e=>{localStorage.setItem("poker_clock",e)});const Te=B([N,ve,D,Q],([e,t,n,s])=>Math.trunc(n?(s-e)/1e3:(t-e)/1e3)),Ge=B(Te,e=>we-e%we-1),ut=B([Ge,P],([e,t])=>{if(!t)return"--:--";let n=e;return Math.trunc(n/60).toString().padStart(2,"0")+":"+(n%60).toString().padStart(2,"0")}),ct=B([Ge,P,D],([e,t,n])=>t&&(n||e<30&&e%2==1)),ft=B(Te,e=>Math.trunc(e/we)),Ke=B([ft,P],([e,t])=>t?25*Math.pow(2,e):25),at=B(Ke,e=>2*e);function dt(e){let t,n;return{c(){t=g("span"),c(t,"class",n="h-12 w-12 md:h-24 md:w-24 rounded-full "+e[1][e[0]])},m(s,l){z(s,t,l)},p(s,[l]){l&1&&n!==(n="h-12 w-12 md:h-24 md:w-24 rounded-full "+s[1][s[0]])&&c(t,"class",n)},i:I,o:I,d(s){s&&M(t)}}}function pt(e,t,n){let{colour:s}=t;const l={white:"bg-white",blue:"bg-blue-700",green:"bg-green-600",red:"bg-red-600"};return e.$$set=i=>{"colour"in i&&n(0,s=i.colour)},[s,l]}class ae extends Fe{constructor(t){super(),Re(this,t,pt,dt,ye,{colour:0})}}function Ce(e){let t,n,s,l,i,_,f,d,r,w,u,b,m,v,a,S,C,q,j,A;return{c(){t=g("div"),n=y("Blinds: "),s=y(e[3]),l=y(" / "),i=y(e[4]),f=k(),d=g("div"),r=y(e[5]),u=k(),b=g("div"),m=g("button"),v=y("Pause"),a=k(),S=g("button"),C=y("Resume"),c(t,"class",_="flex flex-row text-3xl md:text-5xl basis-1/5 font-bold justify-center "+e[0]),c(d,"class",w="flex flex-row text-6xl basis-1/5 font-bold justify-center "+e[0]),m.disabled=e[6],c(m,"class","btn text-2xl"),S.disabled=q=!e[6],c(S,"class","btn text-2xl"),c(b,"class","flex flex-row space-x-8 justify-center m-8")},m(x,h){z(x,t,h),o(t,n),o(t,s),o(t,l),o(t,i),z(x,f,h),z(x,d,h),o(d,r),z(x,u,h),z(x,b,h),o(b,m),o(m,v),o(b,a),o(b,S),o(S,C),j||(A=[pe(m,"click",e[10]),pe(S,"click",e[11])],j=!0)},p(x,h){h&8&&me(s,x[3]),h&16&&me(i,x[4]),h&1&&_!==(_="flex flex-row text-3xl md:text-5xl basis-1/5 font-bold justify-center "+x[0])&&c(t,"class",_),h&32&&me(r,x[5]),h&1&&w!==(w="flex flex-row text-6xl basis-1/5 font-bold justify-center "+x[0])&&c(d,"class",w),h&64&&(m.disabled=x[6]),h&64&&q!==(q=!x[6])&&(S.disabled=q)},d(x){x&&(M(t),M(f),M(d),M(u),M(b)),j=!1,R(A)}}}function _t(e){let t,n,s,l,i,_,f,d,r,w,u,b,m,v,a,S,C,q,j,A,x,h,Se,re,Ee,F,T,Ie,Y,je,oe,Oe,G,K,Ne,Z,Ae,ie,De,ue,E,_e,Le;m=new ae({props:{colour:"white"}}),A=new ae({props:{colour:"blue"}}),T=new ae({props:{colour:"green"}}),K=new ae({props:{colour:"red"}});let $=e[2]&&Ce(e);return{c(){t=g("main"),n=g("div"),s=g("div"),l=g("button"),i=y("Start Timer"),_=k(),f=g("button"),d=y("New Game"),w=k(),u=g("div"),b=g("div"),fe(m.$$.fragment),v=k(),a=g("div"),S=y("200"),q=k(),j=g("div"),fe(A.$$.fragment),x=k(),h=g("div"),Se=y("100"),Ee=k(),F=g("div"),fe(T.$$.fragment),Ie=k(),Y=g("div"),je=y("50"),Oe=k(),G=g("div"),fe(K.$$.fragment),Ne=k(),Z=g("div"),Ae=y("25"),De=k(),$&&$.c(),l.disabled=e[2],c(l,"class","btn text-2xl"),f.disabled=r=!e[2],c(f,"class","btn text-2xl"),c(s,"class","flex flex-row space-x-8 justify-center m-8"),c(a,"class",C="text-center font-bold text-4xl "+e[0]),c(b,"class","flex flex-col"),c(h,"class",re="text-center font-bold text-4xl "+e[0]),c(j,"class","flex flex-col"),c(Y,"class",oe="text-center font-bold text-4xl "+e[0]),c(F,"class","flex flex-col"),c(Z,"class",ie="text-center font-bold text-4xl "+e[0]),c(G,"class","flex flex-col"),c(u,"class","flex flex-row text-yellow-200 space-x-8 md:space-x-16 justify-center"),c(n,"class","flex flex-col space-y-8"),c(t,"class",ue="h-full m-0 "+e[1])},m(p,O){z(p,t,O),o(t,n),o(n,s),o(s,l),o(l,i),o(s,_),o(s,f),o(f,d),o(n,w),o(n,u),o(u,b),te(m,b,null),o(b,v),o(b,a),o(a,S),o(u,q),o(u,j),te(A,j,null),o(j,x),o(j,h),o(h,Se),o(u,Ee),o(u,F),te(T,F,null),o(F,Ie),o(F,Y),o(Y,je),o(u,Oe),o(u,G),te(K,G,null),o(G,Ne),o(G,Z),o(Z,Ae),o(n,De),$&&$.m(n,null),E=!0,_e||(Le=[pe(l,"click",e[8]),pe(f,"click",e[7])],_e=!0)},p(p,[O]){(!E||O&4)&&(l.disabled=p[2]),(!E||O&4&&r!==(r=!p[2]))&&(f.disabled=r),(!E||O&1&&C!==(C="text-center font-bold text-4xl "+p[0]))&&c(a,"class",C),(!E||O&1&&re!==(re="text-center font-bold text-4xl "+p[0]))&&c(h,"class",re),(!E||O&1&&oe!==(oe="text-center font-bold text-4xl "+p[0]))&&c(Y,"class",oe),(!E||O&1&&ie!==(ie="text-center font-bold text-4xl "+p[0]))&&c(Z,"class",ie),p[2]?$?$.p(p,O):($=Ce(p),$.c(),$.m(n,null)):$&&($.d(1),$=null),(!E||O&2&&ue!==(ue="h-full m-0 "+p[1]))&&c(t,"class",ue)},i(p){E||(ee(m.$$.fragment,p),ee(A.$$.fragment,p),ee(T.$$.fragment,p),ee(K.$$.fragment,p),E=!0)},o(p){ce(m.$$.fragment,p),ce(A.$$.fragment,p),ce(T.$$.fragment,p),ce(K.$$.fragment,p),E=!1},d(p){p&&M(t),ne(m),ne(A),ne(T),ne(K),$&&$.d(),_e=!1,R(Le)}}}function bt(e,t,n){let s,l,i,_,f,d,r,w;U(e,ct,a=>n(9,i=a)),U(e,rt,a=>n(2,_=a)),U(e,Ke,a=>n(3,f=a)),U(e,at,a=>n(4,d=a)),U(e,ut,a=>n(5,r=a)),U(e,D,a=>n(6,w=a));const u=()=>{confirm("Really start a new game?")&&N.stop()},b=()=>{N.start()};We(()=>{const a=setInterval(()=>{N.tick()},1e3);return()=>{clearInterval(a)}});const m=()=>{N.pause()},v=()=>{N.resume()};return e.$$.update=()=>{e.$$.dirty&512&&n(1,s=i?"bg-yellow-200":"bg-green-950"),e.$$.dirty&512&&n(0,l=i?"text-green-950":"text-yellow-200")},[l,s,_,f,d,r,w,u,b,i,m,v]}class mt extends Fe{constructor(t){super(),Re(this,t,bt,_t,ye,{})}}new mt({target:document.getElementById("app")});
